{"version":3,"file":"commonHelpers.js","sources":["../src/img/vite-logo.png","../src/js/1-timer.js"],"sourcesContent":["export default \"__VITE_ASSET__96311e47__\"","// Описаний в документації\r\nimport flatpickr from 'flatpickr';\r\n// Додатковий імпорт стилів\r\nimport 'flatpickr/dist/flatpickr.min.css';\r\n\r\n// Описаний у документації\r\nimport iziToast from 'izitoast';\r\n// Додатковий імпорт стилів\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\nimport errorIcon from '../img/vite-logo.png';\r\nconst input = document.querySelector('#datetime-picker');\r\nconst startBtn = document.querySelector('[data-start]');\r\nconst timer = document.querySelector('.js-timer');\r\n\r\nlet userSelectedDate;\r\nstartBtn.disabled = true;\r\n\r\nconst options = {\r\n  enableTime: true,\r\n  time_24hr: true,\r\n  defaultDate: new Date(),\r\n  minuteIncrement: 1,\r\n  onClose(selectedDates) {\r\n    console.log(selectedDates[0]);\r\n    if (selectedDates[0] < new Date()) {\r\n      return iziToast.error({\r\n        message: 'Please choose a date in the future',\r\n        position: 'topRight',\r\n        iconUrl: errorIcon,\r\n      });\r\n    }\r\n    startBtn.disabled = false;\r\n    userSelectedDate = selectedDates[0];\r\n  },\r\n};\r\n\r\nflatpickr(input, options); // функ-я из библиотеки input наш из дома options - берем из библиотеки и немного добавляем от себя в методе onClose\r\n\r\nstartBtn.addEventListener('click', startTimer);\r\n\r\nfunction startTimer(event) {\r\n  const intervalId = setInterval(() => {\r\n    const diff = userSelectedDate - Date.now();\r\n    if (diff <= 0) {\r\n      clearInterval(intervalId);\r\n      return iziToast.success({\r\n        message: 'Game over',\r\n        position: 'topRight',\r\n      });\r\n    }\r\n    const { days, hours, minutes, seconds } = convertMs(diff);\r\n\r\n    timer.querySelector('.js-days').textContent = addZero(days);\r\n    timer.querySelector('.js-hours').textContent = addZero(hours);\r\n    timer.querySelector('.js-minutes').textContent = addZero(minutes);\r\n    timer.querySelector('.js-seconds').textContent = addZero(seconds);\r\n  }, 1000);\r\n\r\n  startBtn.disabled = true;\r\n  input.disabled = true;\r\n}\r\n\r\nfunction addZero(value) {\r\n  return String(value).padStart(2, '0');\r\n}\r\n\r\n// вариант 2\r\n// function startTimer(event) {\r\n//   const intervalId = setInterval(() => {\r\n//     const diff = userSelectedDate - Date.now();\r\n//     const objectDay = convertMs(diff);\r\n//     const newTime = Object.values(objectDay);\r\n\r\n//     if (diff <= 0) {\r\n//       clearInterval(intervalId);\r\n//       return alert('Game over');\r\n//     }\r\n\r\n//     document.querySelectorAll('.value').forEach((element, index) => {\r\n//       if (index < newTime.length) element.textContent = addZero(newTime[index]);\r\n//     });\r\n//   }, 1000);\r\n\r\n//   startBtn.disabled = true;\r\n//   input.disabled = true;\r\n// }\r\n\r\nfunction convertMs(ms) {\r\n  // Number of milliseconds per unit of time\r\n  const second = 1000;\r\n  const minute = second * 60;\r\n  const hour = minute * 60;\r\n  const day = hour * 24;\r\n\r\n  // Remaining days\r\n  const days = Math.floor(ms / day);\r\n  // Remaining hours\r\n  const hours = Math.floor((ms % day) / hour);\r\n  // Remaining minutes\r\n  const minutes = Math.floor(((ms % day) % hour) / minute);\r\n  // Remaining seconds\r\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\r\n\r\n  return { days, hours, minutes, seconds };\r\n}\r\n\r\nconsole.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\r\nconsole.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\r\nconsole.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\r\n"],"names":["errorIcon","input","startBtn","timer","userSelectedDate","options","selectedDates","iziToast","flatpickr","startTimer","event","intervalId","diff","days","hours","minutes","seconds","convertMs","addZero","value","ms"],"mappings":"2GAAA,MAAeA,EAAA,+CCWTC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAQ,SAAS,cAAc,WAAW,EAEhD,IAAIC,EACJF,EAAS,SAAW,GAEpB,MAAMG,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAErB,GADA,QAAQ,IAAIA,EAAc,CAAC,CAAC,EACxBA,EAAc,CAAC,EAAI,IAAI,KACzB,OAAOC,EAAS,MAAM,CACpB,QAAS,qCACT,SAAU,WACV,QAASP,CACjB,CAAO,EAEHE,EAAS,SAAW,GACpBE,EAAmBE,EAAc,CAAC,CACnC,CACH,EAEAE,EAAUP,EAAOI,CAAO,EAExBH,EAAS,iBAAiB,QAASO,CAAU,EAE7C,SAASA,EAAWC,EAAO,CACzB,MAAMC,EAAa,YAAY,IAAM,CACnC,MAAMC,EAAOR,EAAmB,KAAK,IAAG,EACxC,GAAIQ,GAAQ,EACV,qBAAcD,CAAU,EACjBJ,EAAS,QAAQ,CACtB,QAAS,YACT,SAAU,UAClB,CAAO,EAEH,KAAM,CAAE,KAAAM,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAI,EAExDT,EAAM,cAAc,UAAU,EAAE,YAAce,EAAQL,CAAI,EAC1DV,EAAM,cAAc,WAAW,EAAE,YAAce,EAAQJ,CAAK,EAC5DX,EAAM,cAAc,aAAa,EAAE,YAAce,EAAQH,CAAO,EAChEZ,EAAM,cAAc,aAAa,EAAE,YAAce,EAAQF,CAAO,CACjE,EAAE,GAAI,EAEPd,EAAS,SAAW,GACpBD,EAAM,SAAW,EACnB,CAEA,SAASiB,EAAQC,EAAO,CACtB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACtC,CAuBA,SAASF,EAAUG,EAAI,CAQrB,MAAMP,EAAO,KAAK,MAAMO,EAAK,KAAG,EAE1BN,EAAQ,KAAK,MAAOM,EAAK,MAAO,IAAI,EAEpCL,EAAU,KAAK,MAAQK,EAAK,MAAO,KAAQ,GAAM,EAEjDJ,EAAU,KAAK,MAASI,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,QAAQ,IAAIC,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC"}